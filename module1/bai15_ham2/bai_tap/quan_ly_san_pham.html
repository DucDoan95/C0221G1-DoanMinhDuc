<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<!--    <h1>MANAGE PRODUCTS</h1>-->
<!--    <h2>Add New Product</h2>-->
<!--    <p>-->
<!--        <input type="text" id="enter">-->
<!--        <input type="button" onclick="add(enter)" value="add">-->
<!--    </p>-->
<!--    <h2>Display All Product</h2>-->
<label style="font-size: 30px"><b>Add New Product</b></label><br>
<input type="text" id="enter" placeholder="New product" style="width: 200px; height: 30px;margin: 20px 0 30px 0">
<input type="button" onclick="addProduct()" value="Add"><br>
<label style="font-size: 30px;"><b>Display All Product</b></label>
<div id="di5play"></div>
<script>
    let arr = ['Sony Xperia', 'Samsung Galaxy', 'Nokia 6', 'Xiaomi Redmid Note 4',
        'Apple Iphone 6S', 'Xiaomi Mi 5s Plus', 'Apple Iphone 8 Plus', 'Fujitsu F-04E', 'Oppo A71'];
    display();

    function display() {
        let tableString = '<table border="1"> ';
        
        for (let i = 0; i < arr.length; i++) {
            tableString += '<tr>';
            tableString += '<td class="name">' + arr[i] + '</td>';
            tableString += '<td><input type="button" class="edit" value="Edit" onclick="edit(' + i + ')"></td>';
            tableString += '<td><input type="button" class="delete" value="Delete" onclick="del3te(' + i + ')"></td>';
            tableString += '</tr>';
        }
        tableString += '</table>';
        document.getElementById('di5play').innerHTML = tableString;
    }

    function addProduct(i) {
        let str = document.getElementById('enter').value;
        if(str.replace(/ /g,'') != ''){
            if (arr.indexOf(str) === -1) {
                arr.push(str);
                display();
                document.getElementById('enter').value = "";
            } else {
                alert("Sản phẩm đã có hãy nhập lại")
                document.getElementById('enter').value = "";
            }
        }else {
            alert("Hãy điền tên sản phẩm!")
            document.getElementById('enter').value = "";
        }


    }

    function del3te(i) {
        if (confirm("Bạn có chắc muốn xóa SP này")) {
            arr.splice(i, 1);
            alert('deleted')
            display();
        }
        display();

    }

    function edit(i) {
        let productChange = prompt("Nhập thông tin thay đổi")
        // arr[i]= productChange
        // display();
        // alert('edited');
        if (arr.indexOf(productChange) === -1) {
            arr[i] = productChange
            display();
            document.getElementById('enter').value = "";
        } else {
            alert("Tên SP này đã tồn tại");
        }
    }
</script>
</body>
</html>